(this["webpackJsonpclam-react"]=this["webpackJsonpclam-react"]||[]).push([[0],{142:function(e,t,n){},147:function(e,t,n){e.exports={MeetingTitle:"MeetingTitle_MeetingTitle__3anMe"}},169:function(e,t,n){e.exports=n(318)},209:function(e,t,n){},296:function(e,t,n){},309:function(e,t,n){},318:function(e,t,n){"use strict";n.r(t);n(170);var a=n(52),r=n(1),i=n.n(r),c=n(26),o=n.n(c),s=(n(209),n(16)),u=n(17),l=n(19),d=n(18),m=n(20),p=n(11),f=function(e){return e.children},g=f,E=function(e){var t=e.scheduleMonth,n=e.scheduleYear,a=e.children,r=e.scheduleId?i.a.createElement(g,null," ",i.a.createElement("small",null,t," ",n)):null;return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("h2",null,"Christian Life and Ministry Schedule",r),i.a.createElement("hr",null),a))},h=n(3),_=n.n(h),b=n(153),v=n.n(b),O=n(147),D=n.n(O),T=n(62),y=n(9),I=n(6),S=function(e){return i.a.createElement(f,null,i.a.createElement(y.a,{icon:I.l,spin:!0,size:"1x"})," Loading ...")},A=n(14),P=function(e){var t=e.display,n=e.icon,a=Object(A.a)(e,["display","icon"]);return t?i.a.createElement("a",Object.assign({},a,{className:"btn btn-sm btn-link",style:{textDecoration:"none"}}),i.a.createElement(y.a,{icon:n})," ",a.title):null},M=n(31),j=n(7),N=n(8),C={pad:function(e,t){for(;e.length<t;)e="0".concat(e);return e},clone:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},toString:function(e){return"".concat(e.getFullYear(),"-").concat(C.pad((e.getMonth()+1).toString(),2),"-").concat(C.pad(e.getDate().toString(),2))},toDayOfMonthString:function(e){return C.pad(e.getDate().toString())},toMonthAndYearString:function(e){return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getFullYear())},moveToDayOfWeek:function(e,t){for(;e.getDay()!==t;)e.setDate(e.getDate()-1);return e},isSameDay:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},dateIn:function(e,t){return e.filter((function(e){return!C.isSameDay(e,t)})).length!==e.length},isBefore:function(e,t){if(!this.isSameDay(e,t))return e.getTime()<t.getTime()},isAfter:function(e,t){return e.getTime()>t.getTime()}},x=C;function k(){var e=Object(j.a)(["\n  width: 42px;\n"]);return k=function(){return e},e}function w(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  font-weight: 500;\n  height: 20px;\n  line-height: 15px;\n  opacity: 0.5;\n  text-align: center;\n"]);return w=function(){return e},e}var R=N.a.div(w()),L=N.a.span(k()),G=function(){return i.a.createElement(R,null,i.a.createElement(L,null,"S"),i.a.createElement(L,null,"M"),i.a.createElement(L,null,"T"),i.a.createElement(L,null,"W"),i.a.createElement(L,null,"T"),i.a.createElement(L,null,"F"),i.a.createElement(L,null,"S"))},Y=n(75),U=n(13),F=n.n(U),B=["S","M","T","W","T","F","S"],V=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],H=["January","February","March","April","May","June","July","August","September","October","November","December"];function z(e,t){F()("en-US"===e,"Material-UI: The ".concat(e," locale is not supported by the built-in DateTimeFormat.\n  Use the `DateTimeFormat` prop to supply an alternative implementation.")),this.format=function(e){return"short"===t.month&&"2-digit"===t.day&&"numeric"===t.year?"".concat(e.getDate()," ").concat(V[e.getMonth()]," ").concat(e.getFullYear()):"numeric"===t.year&&"numeric"===t.month&&"numeric"===t.day?"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear()):"numeric"===t.year&&"long"===t.month?"".concat(H[e.getMonth()]," ").concat(e.getFullYear()):"narrow"===t.weekday?B[e.getDay()]:"numeric"===t.year?e.getFullYear().toString():"numeric"===t.day?e.getDate():void F()(!1,"Material-UI: Wrong usage of DateTimeFormat")}}function J(e,t){var n=K(e);return n.setDate(e.getDate()+t),n}function K(e){return new Date(e.getTime())}function W(e){return new Date(e.getFullYear(),e.getMonth(),1)}function q(e,t){var n;return n=12*(e.getFullYear()-t.getFullYear()),n+=e.getMonth(),n-=t.getMonth()}var X={getYear:function(e){return e.getFullYear()},setYear:function(e,t){var n=K(e);return n.setFullYear(t),n},addDays:J,addMonths:function(e,t){var n=K(e);return n.setMonth(e.getMonth()+t),n},addYears:function(e,t){var n=K(e);return n.setFullYear(e.getFullYear()+t),n},getFirstDayOfMonth:W,getWeekArray:function(e,t){for(var n=[],a=function(e){var t=W(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}(e),r=[],i=[],c=1;c<=a;c++)n.push(new Date(e.getFullYear(),e.getMonth(),c));var o=function(e){for(var t=7-e.length,n=0;n<t;++n)e[r.length?"push":"unshift"](null);r.push(e)};return n.forEach((function(e){i.length>0&&0===e.getDay()&&(o(i),i=[]),i.push(e),n.indexOf(e)===n.length-1&&o(i)})),r},monthDiff:q};function Z(){var e=Object(j.a)(["\n  color: ",";\n  font-weight: ",";\n  font-size: ",";\n  position: relative;\n  color: ",";\n"]);return Z=function(){return e},e}function Q(){var e=Object(j.a)(["\n  background-color: rgb(0, 151, 167);\n  height: 32px;\n  border-radius: 50%;\n  left: 1px;\n  opacity: ",";\n  position: absolute;\n  top: 0px;\n  transform: scale(",");\n  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  width: 32px;\n"]);return Q=function(){return e},e}function $(){var e=Object(j.a)(["\n  border: 10px;\n  box-sizing: border-box;\n  display: inline-block;\n  font-family: Roboto, sans-serif;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  text-decoration: none;\n  margin: 0px;\n  padding: 4px 0px;\n  outline: none;\n  font-size: inherit;\n  font-weight: 400;\n  position: relative;\n  z-index: 1;\n  width: 42px;\n  background: none;\n"]);return $=function(){return e},e}function ee(){var e=Object(j.a)(["\n  border: 10px;\n  box-sizing: border-box;\n  display: inline-block;\n  font-family: Roboto, sans-serif;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  cursor: pointer;\n  text-decoration: none;\n  margin: 0px;\n  padding: 4px 0px;\n  outline: none;\n  font-size: inherit;\n  font-weight: 400;\n  position: relative;\n  z-index: 1;\n  width: 42px;\n  background: none;\n"]);return ee=function(){return e},e}function te(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  height: 32px;\n  margin-bottom: 2px;\n"]);return te=function(){return e},e}var ne=N.a.div(te()),ae=N.a.button(ee()),re=N.a.div($()),ie=N.a.div(Q(),(function(e){return e.selected?"1":"0"}),(function(e){return e.selected?"1":"0"})),ce=N.a.div(Z(),(function(e){return e.selected?"rgb(255, 255, 255)":"rgba(0, 0, 0, 0.87)"}),(function(e){return e.today?"bold":"400"}),(function(e){return e.today?"1.1rem":"auto"}),(function(e){return e.disabled?"lightgrey":"auto"})),oe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onSelect=function(e){n.isDisabled(e)||n.props.onSelect(e)},n.isDisabled=function(e){var t=n.props.minDate,a=n.props.maxDate;return t&&x.isBefore(e,t)||a&&x.isAfter(e,a)},n.isSelected=function(e){return n.props.selectedDates&&x.dateIn(n.props.selectedDates,e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=new z("en-US",{day:"numeric",month:"numeric",year:"numeric"}),n=t.format(new Date),a=new z("en-US",{day:"numeric"});return i.a.createElement(ne,null,this.props.week.map((function(r,c){if(r){var o=r&&n===t.format(r),s=e.isDisabled(r),u=e.isSelected(r);return i.a.createElement(ae,{key:"day-".concat(r),onClick:function(t){t.preventDefault(),e.onSelect(r)},disabled:s,selected:u},i.a.createElement(ie,{selected:u}),i.a.createElement(ce,{selected:u,disabled:s,today:o},a.format(r)))}return i.a.createElement(re,{key:"blank-".concat(c)})})))}}]),t}(r.Component);function se(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  font-weight: 400;\n  height: 180px;\n  line-height: 2px;\n  position: relative;\n  text-align: center;\n  moz-padding-start: 0;\n"]);return se=function(){return e},e}var ue=N.a.div(se()),le=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).renderWeeks=function(){return X.getWeekArray(n.props.displayDate,1).map((function(e,t){return i.a.createElement(oe,{key:t,week:e,selected:n.props.selected,selectedDates:n.props.selectedDates,onSelect:n.props.onSelect,minDate:n.props.minDate,maxDate:n.props.maxDate})}),Object(Y.a)(n))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(ue,null,this.renderWeeks(this.props.displayDate))}}]),t}(r.Component);function de(){var e=Object(j.a)(["\n  height: inherit;\n  padding-top: 10px;\n"]);return de=function(){return e},e}function me(){var e=Object(j.a)(["\n  font-size: 14px;\n  font-weight: 500;\n  text-align: center;\n  width: 100%;\n"]);return me=function(){return e},e}function pe(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: space-between;\n  background-color: inherit;\n  height: 42px;\n"]);return pe=function(){return e},e}function fe(){var e=Object(j.a)(["\n  border: none;\n  font-family: Roboto, sans-serif;\n  text-decoration: none;\n  outline: none;\n  position: relative;\n  z-index: 1;\n  height: 36px;\n  line-height: 36px;\n  overflow: hidden;\n  background-color: rgba(0, 0, 0, 0);\n  text-align: center;\n\n  font-weight: bold;\n  padding: 5px 8px;\n  border-radius: 3px;\n  cursor: pointer;\n  font-style: normal;\n  font-size: 0.7em;\n  :hover {\n    color: rgb(0, 188, 212);\n  }\n"]);return fe=function(){return e},e}var ge=N.a.button(fe()),Ee=N.a.div(pe()),he=N.a.div(me()),_e=N.a.div(de()),be=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={transitionDirection:"up"},n.handleTouchTapPrevMonth=function(e){e.preventDefault(),n.props.onMonthChange&&n.props.onMonthChange(-1)},n.handleTouchTapNextMonth=function(e){e.preventDefault(),n.props.onMonthChange&&n.props.onMonthChange(1)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.displayDate!==this.props.displayDate){var t=e.displayDate>this.props.displayDate?"left":"right";this.setState({transitionDirection:t})}}},{key:"render",value:function(){var e=this.props.displayDate,t=new z("en-US",{month:"long",year:"numeric"}).format(e);return i.a.createElement(Ee,null,i.a.createElement(ge,{disabled:!this.props.prevMonth,onClick:this.handleTouchTapPrevMonth},String.fromCharCode(9664)),i.a.createElement(he,null,i.a.createElement(_e,{key:t},t)),i.a.createElement(ge,{disabled:!this.props.nextMonth,onClick:this.handleTouchTapNextMonth},String.fromCharCode(9654)))}}]),t}(r.Component);be.defaultProps={nextMonth:!0,prevMonth:!0};var ve=be;function Oe(){var e=Object(j.a)(["\n  border: 10px;\n  box-sizing: border-box;\n  display: inline-block;\n  font-family: Roboto, sans-serif;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  cursor: pointer;\n  text-decoration: none;\n  margin: 4px 8px 8px 0px;\n  padding: 0px;\n  outline: none;\n  font-size: inherit;\n  font-weight: inherit;\n  position: relative;\n  z-index: 1;\n  height: 32px;\n  line-height: 32px;\n  min-width: 64px;\n  color: rgb(0, 188, 212);\n  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  border-radius: 2px;\n  user-select: none;\n  overflow: hidden;\n  background-color: rgba(0, 0, 0, 0);\n  text-align: center;\n  max-height: 32px;\n"]);return Oe=function(){return e},e}function De(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin: 0px;\n  max-height: 42px;\n  padding: 0px;\n"]);return De=function(){return e},e}var Te=N.a.div(De()),ye=N.a.button(Oe()),Ie=function(e){return i.a.createElement(Te,null,i.a.createElement(ye,{onClick:e.onCancel},"Cancel"),i.a.createElement(ye,{onClick:e.onOk},"Ok"))};function Se(){var e=Object(j.a)(["\n  position: relative;\n  overflow: hidden;\n  height: 16px;\n  margin: 0px 0px 10px;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 16px;\n  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n"]);return Se=function(){return e},e}function Ae(){var e=Object(j.a)(["\n  width: 165px;\n  height: 280px;\n  float: left;\n  font-weight: 700;\n  background-color: rgb(240, 240, 240);\n  display: inline-block;\n  border-top-left-radius: .25rem;\n  border-top-right-radius: 0px;\n  border-bottom-left-radius: .25rem;\n  color: rgb(0, 0, 0);\n  padding: 20px;\n  box-sizing: border-box;\n  overflow-y: auto;\n"]);return Ae=function(){return e},e}var Pe=N.a.div(Ae()),Me=N.a.div(Se()),je=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={selectedYear:!1},n.getFormatedDate=function(e){var t=new z("en-US",{year:"numeric",month:"short",day:"2-digit"}).format(e);return"".concat(t)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.monthDaySelected||this.setState({selectedYear:!0})}},{key:"render",value:function(){var e=this,t=this.props.selectedDates;return i.a.createElement(Pe,null,t.map((function(t){return i.a.createElement(Me,{key:"".concat(t.toString())},e.getFormatedDate(t))})))}}]),t}(r.Component);function Ne(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 280px;\n"]);return Ne=function(){return e},e}function Ce(){var e=Object(j.a)(["\n  display: flex;\n  place-content: space-between;\n  flex-direction: column;\n  font-size: 12px;\n  font-weight: 400;\n  padding: 0px 4px;\n  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n"]);return Ce=function(){return e},e}function xe(){var e=Object(j.a)(["\n  color: rgba(0, 0, 0, 0.87);\n  user-select: none;\n  ",";\n  overflow: hidden;\n"]);return xe=function(){return e},e}var ke=N.a.div(xe(),(function(e){return!e.hideCalendarDate&&"width: 400px"})),we=N.a.div(Ce()),Re=N.a.div(Ne()),Le=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={displayDate:void 0,displayMonthDay:void 0,selectedDate:void 0,transitionDirection:"left",open:!1,transitionEnter:!0},n.handleMonthChange=function(e){var t=e>=0?"left":"right";n.setState({transitionDirection:t,displayDate:X.addMonths(n.state.displayDate,e)})},n.calendarRefs={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.setState({displayDate:X.getFirstDayOfMonth(this.props.initialDate),selectedDate:this.props.initialDate,displayMonthDay:!this.props.openToYearSelection})}},{key:"componentWillReceiveProps",value:function(e){if(e.initialDate!==this.props.initialDate){var t=e.initialDate||new Date;this.setState({displayDate:X.getFirstDayOfMonth(t),selectedDate:t})}}},{key:"getMinDate",value:function(){return this.props.minDate||X.addYears(new Date,-100)}},{key:"getMaxDate",value:function(){return this.props.maxDate||X.addYears(new Date,100)}},{key:"getSelectedDate",value:function(){return this.state.selectedDate}},{key:"getToolbarInteractions",value:function(){return{prevMonth:X.monthDiff(this.state.displayDate,this.getMinDate())>0,nextMonth:X.monthDiff(this.state.displayDate,this.getMaxDate())<0}}},{key:"render",value:function(){var e=this,t=this.getToolbarInteractions();return i.a.createElement(ke,{hideCalendarDate:this.props.hideCalendarDate,visible:this.props.visible},i.a.createElement(je,{selectedDates:this.props.selectedDates}),i.a.createElement(Re,null,i.a.createElement(we,null,i.a.createElement(ve,{displayDate:this.state.displayDate,onMonthChange:this.handleMonthChange,prevMonth:t.prevMonth,nextMonth:t.nextMonth}),i.a.createElement(G,null),i.a.createElement(le,{view:this.props.view,selected:this.props.selected,displayDate:this.state.displayDate,key:this.state.displayDate.toDateString(),selectedDates:this.props.selectedDates,minDate:this.getMinDate(),maxDate:this.getMaxDate(),onSelect:this.props.onSelect,ref:function(t){return e.calendarRefs.calendar=t}})),i.a.createElement(Ie,{onCancel:this.props.onCancel,onOk:this.props.onOk})))}}]),t}(r.Component);Le.defaultProps={disableYearSelection:!1,initialDate:new Date};var Ge=Le;function Ye(){var e=Object(j.a)(["\n  font-size: 16px;\n  color: rgba(0, 0, 0, 0.6);\n  padding: 0px;\n  box-sizing: border-box;\n  overflow-y: hidden;\n  border-top: none;\n  border-bottom: none;\n  min-height: 286px;\n  min-width: 400px;\n"]);return Ye=function(){return e},e}function Ue(){var e=Object(j.a)(["\n  color: rgba(0, 0, 0, 0.87);\n  background-color: rgb(255, 255, 255);\n  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  box-sizing: border-box;\n  font-family: Roboto, sans-serif;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  box-shadow: rgba(0, 0, 0, 0.25) 0px 14px 45px, rgba(0, 0, 0, 0.22) 0px 10px 18px;\n  border-radius: .25rem;\n"]);return Ue=function(){return e},e}function Fe(){var e=Object(j.a)(["\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  position: relative;\n  width: 400px;\n  max-width: 768px;\n  margin: 0px auto;\n  z-index: 1500;\n  opacity: 1;\n  transform: translate(0px, 64px);\n"]);return Fe=function(){return e},e}function Be(){var e=Object(j.a)(["\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n  opacity: 1;\n  background-color: rgba(0, 0, 0, 0.54);\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  will-change: opacity;\n  transform: translateZ(0px);\n  transition: left 0ms cubic-bezier(0.23, 1, 0.32, 1) 0ms, opacity 400ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  z-index: 1400;\n"]);return Be=function(){return e},e}function Ve(){var e=Object(j.a)(["\n  position: fixed;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  z-index: 1500;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  transition: left 0ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  padding: 16px 0px 0px;\n  min-height: 300px;\n  min-width: 300px;\n  ",";\n"]);return Ve=function(){return e},e}var He=N.a.div(Ve(),(function(e){return!e.open&&"display: none"})),ze=N.a.div(Be()),Je=N.a.div(Fe()),Ke=N.a.div(Ue()),We=N.a.div(Ye()),qe=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).onSelect=function(e){var t=n.state.selectedDates;x.dateIn(t,e)?n.setState({selectedDates:t.filter((function(t){return!x.isSameDay(t,e)}))}):n.setState({selectedDates:[].concat(Object(M.a)(t),[e])})},n.onSubmit=function(){},n.toggleOpen=function(){n.setState({open:!n.state.open})},n.handleCancel=function(e){e.preventDefault(),n.setState({selectedDates:[]}),n.dismiss()},n.handleRequestClose=function(){n.dismiss()},n.handleOk=function(e){e.preventDefault(),n.props.onSubmit&&n.props.onSubmit(n.state.selectedDates),n.setState({open:!1,selectedDates:[]})},n.dismiss=function(){n.props.onDismiss&&n.state.open&&n.props.onDismiss(),n.setState({open:!1})};var a=e.selected||new Date;return n.state={view:x.clone(a),selected:x.clone(a),selectedDates:e.selected?[x.clone(a)]:[],minDate:null,maxDate:null,open:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.extraInputProps;return i.a.createElement(g,null,t?i.a.cloneElement(i.a.Children.only(t),{onClick:this.toggleOpen,value:this.state.selectedDates.map((function(e){return x.toString(e)})).join(", "),readOnly:!0}):i.a.createElement("button",Object.assign({type:"text",className:"form-control form-control-sm"},n,{readOnly:!0,onClick:this.toggleOpen}),i.a.createElement(y.a,{icon:I.h})," Add")," ",i.a.createElement(He,{open:this.state.open},i.a.createElement(Je,null,i.a.createElement(Ke,null,i.a.createElement(We,null,i.a.createElement(Ge,{initialDate:this.props.scheduleStartDate,visible:this.state.visible,view:this.state.view,selected:this.state.selected,selectedDates:this.state.selectedDates,onSelect:this.onSelect,minDate:this.props.minDate,maxDate:this.props.maxDate,onCancel:this.handleCancel,onOk:this.handleOk})))),i.a.createElement(ze,null)))}}]),t}(r.Component),Xe={ADD_AND_SORT_MEETING:"ADD_AND_SORT_MEETING",ADD_ASSIGNED_ID_TO_PARTS:"ADD_ASSIGNED_ID_TO_PARTS",ADD_CO_PART:"ADD_CO_PART",ADD_MEETING_ID_MAP:"ADD_MEETING_ID_MAP",ADD_MEETING_NOTE_FROM_CAKE:"ADD_MEETING_NOTE_FROM_CAKE",ADD_MEETING:"ADD_MEETING",ADD_MESSAGE:"ADD_MESSAGE",ADD_PART_IDS:"ADD_PART_IDS",ADD_PART_PICKER:"ADD_PART_PICKER",ADD_PARTS_OBJECT:"ADD_PARTS_OBJECT",ADD_PARTS:"ADD_PARTS",ADD_SINGLE_PARTS_OBJECT:"ADD_SINGLE_PARTS_OBJECT",ADD_TO_MEETING_PARTS_BY_ID:"ADD_TO_MEETING_PARTS_BY_ID",BULK_UPDATE_MEETING_PARTS:"BULK_UPDATE_MEETING_PARTS",CANCEL_MEETING_NOTE:"CANCEL_MEETING_NOTE",CLEAR_MEETINGS:"CLEAR_MEETINGS",CO_VISIT:"CO_VISIT",CONFIGURE_MEETING_DATE:"CONFIGURE_MEETING_DATE",DELETE_CO_PART:"DELETE_CO_PART",DELETE_MEETING_NOTE_ID:"DELETE_MEETING_NOTE_ID",DELETE_MEETING_OBJECT:"DELETE_MEETING_OBJECT",DELETE_MEETING:"DELETE_MEETING",DELETE_PART:"DELETE_PART",FETCH_FAIL:"FETCH_FAIL",FETCH_START:"FETCH_START",FETCH_SUCCESS:"FETCH_SUCCESS",HIDE_ALERT:"HIDE_ALERT",HIDE_PART_PICKER:"HIDE_PART_PICKER",INSERT_CO_PART:"INSERT_CO_PART",INSERT_PART:"INSERT_PART",LOAD_MEETINGS_BY_ID:"LOAD_MEETINGS_BY_ID",LOAD_PRIVS:"LOAD_PRIVS",LOAD_SCHEDULE:"LOAD_SCHEDULE",LOAD_SCHEDULES:"LOAD_SCHEDULES",MODAL_OK:"MODAL_OK",POPULATE_MEETING_PARTS_BY_ID:"POPULATE_MEETING_PARTS_BY_ID",POPULATE_MEETING_PARTS_FROM_CAKE:"POPULATE_MEETING_PARTS_FROM_CAKE",REMOVE_MEETING_ID_MAP:"REMOVE_MEETING_ID_MAP",REMOVE_MEETING_PARTS:"REMOVE_MEETING_PARTS",REMOVE_MESSAGE:"REMOVE_MESSAGE",RESET_PART_VALUES:"RESET_PART_VALUES",SET_API_URL:"SET_API_URL",SET_MEETING_DATE_BY_MEETING_ID:"SET_MEETING_DATE_BY_MEETING_ID",SET_MEETING_VALUE:"SET_MEETING_VALUE",SET_SCHEDULE_DATA:"SET_SCHEDULE_DATA",SET_SCHEDULE_END_DATE:"SET_SCHEDULE_END_DATE",SET_SCHEDULE_ID:"SET_SCHEDULE_ID",SET_SCHEDULE_START_DATE:"SET_SCHEDULE_START_DATE",SHOW_ALERT:"SHOW_ALERT",SORTED_MEETINGS:"SORTED_MEETINGS",TOGGLE_MEETING_NOTE:"TOGGLE_MEETING_NOTE",TOGGLE_SAVE_SCHEDULE_MODAL:"TOGGLE_SAVE_SCHEDULE_MODAL",TOGGLE_SCHEDULE_MODAL:"TOGGLE_SCHEDULE_MODAL",UPDATE_ALL_START_TIMES:"UPDATE_ALL_START_TIMES",UPDATE_ALLOW:"UPDATE_ALLOW",UPDATE_ASSIGNED_ID:"UPDATE_ASSIGNED_ID",UPDATE_FORM:"UPDATE_FORM",UPDATE_FORMDATA:"UPDATE_FORMDATA",UPDATE_MEETING_NOTE_ID:"UPDATE_MEETING_NOTE_ID",UPDATE_MEETING_NOTE:"UPDATE_MEETING_NOTE",UPDATE_MEETING_PART:"UPDATE_MEETING_PART",UPDATE_START_TIME:"UPDATE_START_TIME",UPDATE_STOP:"UPDATE_STOP",UPDATE_TIMES:"UPDATE_TIMES"},Ze=Xe,Qe=function(){return{type:Ze.HIDE_PART_PICKER}},$e=function(e,t){return{type:Ze.DELETE_CO_PART,meetingId:e,partId:t}},et=function(e,t,n){return{type:Ze.INSERT_CO_PART,indexNumber:e,meetingId:t,partId:n}},tt=function(e,t,n){return{type:Ze.ADD_CO_PART,meetingId:e,partId:t,part:n}},nt=function(e,t){return{type:Ze.CO_VISIT,meetingId:e,coVisit:t}},at=function(){return{type:Ze.CLEAR_MEETINGS}},rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"7:30 PM";return{type:Ze.ADD_MEETING,meetingDate:e,id:t,startTime:i,chairmanId:n,auxCounselorId:a,coVisit:r}},it=function(e,t,n){return{type:Ze.UPDATE_FORM,name:e,value:t,fieldText:n}},ct=function(e,t){return{type:Ze.ADD_SINGLE_PARTS_OBJECT,partsByIdArray:t,meetingId:e}},ot=function(e,t,n){return{type:Ze.ADD_TO_MEETING_PARTS_BY_ID,meetingId:e,partsObject:t,partsByIdArray:n}},st=function(e){return{type:Ze.SORTED_MEETINGS,sortedArray:e}},ut=function(e){return{type:Ze.DELETE_MEETING_OBJECT,meetingId:e}},lt=function(e){return{type:Ze.DELETE_MEETING,meetingId:e}},dt=function(e,t,n,a){return{type:Ze.INSERT_PART,indexNumber:e,meeting_id:t,part_id:n,showPicker:!1,partsObjectByIds:a}},mt=function(e){var t=e.fieldValue,n=e.meetingId,a=e.partId,r=e.fieldName;return{type:Ze.UPDATE_MEETING_PART,text:t,meetingId:n,partId:a,fieldName:r}},pt=function(e){return{type:Ze.SET_SCHEDULE_END_DATE,endDate:e}},ft=function(e){return{type:Ze.CONFIGURE_MEETING_DATE,meetingDate:e}},gt=function(){return{type:Ze.FETCH_START,isFetching:!0}},Et=function(){return{type:Ze.FETCH_SUCCESS,isFetching:!1}},ht=function(e){return{type:Ze.FETCH_FAIL,isFetching:!1,statusText:e}},_t=function(e,t){return{type:Ze.UPDATE_MEETING_NOTE_ID,meetingId:e,meetingNoteId:t}},bt=function(e,t){return{type:Ze.TOGGLE_MEETING_NOTE,add:t,meetingId:e}},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Ze.SET_SCHEDULE_DATA,data:e}},Ot=function(){return{type:Ze.SHOW_ALERT}},Dt=function(){return{type:Ze.HIDE_ALERT}},Tt=function(e,t){return{type:Ze.ADD_MESSAGE,message:e,color:t}},yt=function(e){return{type:Ze.SET_SCHEDULE_ID,scheduleId:e}},It=function(){return{type:Ze.TOGGLE_SAVE_SCHEDULE_MODAL}},St=function(e,t,n){return{type:Ze.SET_MEETING_VALUE,meetingId:e,valueName:t,value:n}},At=function(e,t){return{type:Ze.ADD_MEETING_ID_MAP,meetingIdLocal:e,meetingIdCake:t}},Pt=function(e){return{type:Ze.REMOVE_MEETING_PARTS,meetingId:e}},Mt=n(150),jt=n.n(Mt),Nt=function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))},Ct={isEmptyObject:function(e){return 0===Object.keys(e).length&&e.constructor===Object},stringDateToDate:function(e){return _()(e).toDate()},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return _()(e).format(t)},getUUID:function(){return jt()()},fetchFromCake:function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(gt());var r={method:n,mode:"cors",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}};return a&&(r.body=JSON.stringify(a)),fetch(t,r).then(Nt)}},flattenObject:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n))if("object"===typeof e[n]&&null!==e[n]){var a=Ct.flattenObject(e[n]);for(var r in a)a.hasOwnProperty(r)&&(t[n+"."+r]=a[r])}else t[n]=e[n];return t}},xt=Ct,kt=n(39),wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.LOAD_SCHEDULE:return t.data;case Ze.CLEAR_MEETINGS:return{};default:return e}},Rt=n(4);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(n,!0).forEach((function(t){Object(Rt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.SET_MEETING_VALUE:var n=t.meetingId,a=t.valueName,r=t.value;return Gt({},e,Object(Rt.a)({},n,Gt({},e[n],Object(Rt.a)({},a,r))));case Ze.DELETE_CO_PART:var i=t.partId,c=t.meetingId,o=e[c].parts.slice(),s=o.filter((function(e){return e!==i}));return Gt({},e,Object(Rt.a)({},c,Gt({},e[c],{parts:s})));case Ze.INSERT_CO_PART:var u=t.indexNumber,l=t.partId,d=t.meetingId,m=e[d].parts.slice();return m.splice(u,0,l),Gt({},e,Object(Rt.a)({},d,Gt({},e[d],{parts:m})));case Ze.CO_VISIT:return Gt({},e,Object(Rt.a)({},t.meetingId,Gt({},e[t.meetingId],{coVisit:t.coVisit})));case Ze.UPDATE_START_TIME:return Gt({},e,Object(Rt.a)({},t.meetingId,Gt({},e[t.meetingId],{startTime:t.fieldValue})));case Ze.INSERT_PART:var p=[].concat(e[t.meeting_id].parts);return p.splice(t.indexNumber,0,parseInt(t.part_id)),Gt({},e,Object(Rt.a)({},t.meeting_id,Gt({},e[t.meeting_id],{parts:p})));case Ze.DELETE_PART:var f=Object(M.a)(e[t.meeting_id].parts),g=f.filter((function(e){return t.part_id!==e}));return Gt({},e,Object(Rt.a)({},t.meeting_id,Gt({},e[t.meeting_id],{parts:g})));case Ze.ADD_SINGLE_PARTS_OBJECT:var E=t.partsByIdArray,h=t.meetingId;return Gt({},e,Object(Rt.a)({},h,Gt({},e[h],{parts:E})));case Ze.CLEAR_MEETINGS:return{};case Ze.ADD_MEETING_ID_MAP:return e[t.meetingIdLocal].hasOwnProperty("parts")?Gt({},e,Object(Rt.a)({},t.meetingIdLocal,Gt({},e[t.meetingIdLocal],{meeting_id:t.meetingIdCake,parts:Object(M.a)(e[t.meetingIdLocal].parts)}))):Gt({},e,Object(Rt.a)({},t.meetingIdLocal,Gt({},e[t.meetingIdLocal],{meeting_id:t.meetingIdCake})));case Ze.ADD_MEETING:return Gt({},e,Object(Rt.a)({},t.id,{date:t.meetingDate,meeting_id:t.id,local_id:t.id,startTime:t.startTime,coVisit:t.coVisit,person_id:t.chairmanId,auxiliary_counselor_id:t.auxCounselorId,parts:[]}));case Ze.DELETE_MEETING_OBJECT:return Object.keys(e).reduce((function(n,a){if(String(a)!==String(t.meetingId)){var r=e[a].parts.slice()||[];n[a]=Gt({},e[a],{parts:r})}return n}),{});case Ze.SET_MEETING_DATE_BY_MEETING_ID:var _=Gt({},e[t.meetingId],{date:t.meetingDate});return Gt({},e,Object(Rt.a)({},t.meetingId,Gt({},_)));default:return e}},Ut=function(e,t){return t.meetings[e]||{}};function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Bt=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(n,!0).forEach((function(t){Object(Rt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},Vt=function(e,t,n,a,r){var i,c=0,o="",s="";i=e[t].startTime;var u=!1;return n.forEach((function(e,t){u=!!u,0===t&&(c=0);var n=parseInt(a[e].minutes),l=parseInt(a[e].counsel_mins);e===r&&(u=!0,o=_()(i,"h:mmA"),s=o.add(c,"m")),u||(c+=n+l)})),s.format()},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.FETCH_START:return Bt(e,{isFetching:!0});case Ze.FETCH_SUCCESS:return Bt(e,{isFetching:!1});case Ze.FETCH_FAIL:return Bt(e,{isFetching:!1,fetchError:t.statusText});default:return e}},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.ADD_PARTS_OBJECT:return t.partEntities;default:return e}};function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(n,!0).forEach((function(t){Object(Rt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe.ADD_CO_PART:var n=t.meetingId,a=t.partId,r=t.part,i=Object.assign({},r);return Kt({},e,Object(Rt.a)({},n,Kt({},e[n],Object(Rt.a)({},a,Kt({},i)))));case Xe.ADD_TO_MEETING_PARTS_BY_ID:var c=t.meetingId,o=t.partsObject;return Kt({},e,Object(Rt.a)({},c,Kt({},e[c],{},o)));case Xe.INSERT_PART:var s=t.meeting_id,u=t.part_id,l=t.partsObjectByIds;return Kt({},e,Object(Rt.a)({},s,Kt({},e[s],Object(Rt.a)({},u,l[u]))));case Xe.RESET_PART_VALUES:var d=t.partId,m=t.meetingId,p=t.partObject;return Kt({},e,Object(Rt.a)({},m,Kt({},e[m],Object(Rt.a)({},d,p))));case Xe.REMOVE_MEETING_PARTS:var f=JSON.parse(JSON.stringify(e));return delete f[t.meetingId],f;case Xe.UPDATE_ALL_START_TIMES:var g=t.startTime,E=t.meetingId,h=t.partId;return Kt({},e,Object(Rt.a)({},E,Kt({},e[E],Object(Rt.a)({},h,Kt({},e[E][h],{start_time:g})))));case Xe.CLEAR_MEETINGS:return{};case Xe.BULK_UPDATE_MEETING_PARTS:var _=JSON.parse(JSON.stringify(e));return t.updateObject.forEach((function(e){_[e.meetingId][e.partId][e.fieldName]=e.fieldValue})),_;case Xe.UPDATE_MEETING_PART:var b=t.meetingId,v=t.fieldName,O=t.partId,D=t.text;return Kt({},e,Object(Rt.a)({},b,Kt({},e[b],Object(Rt.a)({meeting_id:b},O,Kt({},e[b][O],Object(Rt.a)({},v,D))))));case Xe.POPULATE_MEETING_PARTS_FROM_CAKE:return Bt(e,Kt({},t.data));case Xe.ADD_ASSIGNED_ID_TO_PARTS:var T=t.response,y=t.meetingId,I=JSON.parse(JSON.stringify(e));return T.forEach((function(e){I[y][e.part_id].assigned_id=e.assigned_id})),Kt({},I);case Xe.UPDATE_ASSIGNED_ID:var S=t.meetingId,A=t.partId,P=t.assignedId;return Kt({},e,Object(Rt.a)({},S,Kt({},e[S],Object(Rt.a)({},A,Kt({},e[S][A],{assigned_id:P})))));case Xe.ADD_MEETING_ID_MAP:var M=t.meetingIdLocal,j=t.meetingIdCake,N=JSON.parse(JSON.stringify(e));return Object.keys(N).forEach((function(e){M===e&&Object.keys(N[e]).forEach((function(t){N[e][t].meeting_id=j}))})),N;case Xe.POPULATE_MEETING_PARTS_BY_ID:var C=t.meetings,x=t.meetingIds,k=t.partEntities,w={},R={};return x.forEach((function(e){var t=C[e].parts;t.forEach((function(n,a){R[n]=Kt({},k[n],{songNumber:"",start_time:Vt(C,e,t,k,n)})})),w[e]=R})),w;default:return e}},qt=function(e,t,n){return((n||{})[e]||{})[t]||null};function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(n,!0).forEach((function(t){Object(Rt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.TOGGLE_SAVE_SCHEDULE_MODAL:return Bt(e,{isModalVisible:!e.isModalVisible});case Ze.TOGGLE_SCHEDULE_MODAL:return Bt(e,{showScheduleModal:!e.showScheduleModal});case Ze.SET_SCHEDULE_DATA:return Bt(e,Zt({},t.data));case Ze.SET_SCHEDULE_ID:var n=!!t.scheduleId&&e.isPublished;return Bt(e,{scheduleId:t.scheduleId,isPublished:n});case Ze.SET_SCHEDULE_START_DATE:return Bt(e,{start_date:t.startDate});case Ze.SET_SCHEDULE_END_DATE:return Bt(e,{end_date:t.endDate});default:return e}},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.ADD_PARTS_OBJECT:return t.partsByIdArray;default:return e}},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe.SORTED_MEETINGS:return t.sortedArray;case Xe.CLEAR_MEETINGS:return[];case Xe.LOAD_MEETINGS_BY_ID:return t.meetingsArray;case Xe.DELETE_MEETING:return e.filter((function(e){return String(e)!==String(t.meetingId)}));default:return e}},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe.CONFIGURE_MEETING_DATE:return Bt(e,{meetingDate:t.meetingDate});default:return e}},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.LOAD_PRIVS:return t.data;default:return e}},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:"",apiStub:"api"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.SET_API_URL:return Bt(e,{baseUrl:t.baseUrl});default:return e}},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.HIDE_PART_PICKER:return Bt(e,{showPicker:!1});case Ze.INSERT_PART:return Bt(e,{showPicker:t.showPicker});case Ze.ADD_PART_PICKER:var n=!0;return e.indexNumber===t.indexNumber&&(n=!e.showPicker),Bt(e,{indexNumber:t.indexNumber,showPicker:n,insertInMeetingId:t.meetingId});case Ze.ADD_PARTS_OBJECT:var a=t.partEntities,r=t.partsByIdArray;return Bt(e,{fieldValue:a[r[0]].id,fieldText:a[r[0]].partname});case Ze.UPDATE_FORM:return Bt(e,{fieldValue:t.value,fieldText:t.fieldText});default:return e}},cn=function(e,t){return e.sort_order<t.sort_order?-1:e.sort_order>t.sort_order?1:0};function on(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(n,!0).forEach((function(t){Object(Rt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.TOGGLE_MEETING_NOTE:var n=t.meetingId,a=t.add;return a?Bt(e,Object(Rt.a)({},n,un({},e[n],{active:a}))):Object.keys(e).reduce((function(t,a){return String(a)!==String(n)?(t[a]=un({},e[a]),t):t}),{});case Ze.CANCEL_MEETING_NOTE:return{};case Ze.UPDATE_MEETING_NOTE_ID:return Bt(e,Object(Rt.a)({},t.meetingId,un({},e[t.meetingId],{meeting_note_id:t.meetingNoteId})));case Ze.DELETE_MEETING:var r=t.meetingId,i=(e[r],Object(A.a)(e,[r].map(on)));return i;case Ze.DELETE_MEETING_NOTE_ID:var c=e[t.meetingId],o=(c.meeting_note_id,Object(A.a)(c,["meeting_note_id"]));return Bt(e,Object(Rt.a)({},t.meetingId,un({},o)));case Ze.ADD_MEETING_NOTE_FROM_CAKE:return Bt(e,Object(Rt.a)({},t.meetingId,un({},e[t.meetingId],{meeting_note_id:t.meetingNoteId,meeting_id:t.meetingId,heading:t.heading,note:t.note,active:t.active})));case Ze.CLEAR_MEETINGS:return{};case Ze.UPDATE_MEETING_NOTE:var s;return Bt(e,Object(Rt.a)({},t.meetingId,un({},e[t.meetingId],(s={},Object(Rt.a)(s,t.fieldName,t.fieldValue),Object(Rt.a)(s,"meeting_id",t.meetingId),s))));default:return e}},dn=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.UPDATE_STOP:return!1;case Ze.UPDATE_ALLOW:return!0;default:return e}},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.LOAD_SCHEDULES:return t.data;default:return e}},pn=function(e){if(e.schedules)return e.schedules.map((function(e){return{id:e.id,month_year:_()(e.start_date).format("MMMM YYYY")}}))},fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1,color:"primary",message:"Default alert message"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.ADD_MESSAGE:return Bt(e,{message:t.message,color:t.color});case Ze.HIDE_ALERT:return Bt(e,{show:!1});case Ze.SHOW_ALERT:return Bt(e,{show:!0});default:return e}};function gn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.ADD_MEETING_ID_MAP:return Bt(e,Object(Rt.a)({},t.meetingIdLocal,t.meetingIdCake));case Ze.CLEAR_MEETINGS:return{};case Ze.REMOVE_MEETING_ID_MAP:var n=t.meetingIdLocal,a=(e[n],Object(A.a)(e,[n].map(gn)));return a;default:return e}},hn=function(e){return function(e){return e.baseUrl+e.apiStub}(e.apiRoot)},_n=function(e,t){return function(e,t,n,a){var r=[];if(t.hasOwnProperty(e)){var i=t[e].parts;r=n.reduce((function(e,t){return i.includes(t)?e:e.concat(a[t])}),[])}return r.sort(cn)}(e,t.meetings,t.partsAllIds,t.partsObjectByIds)},bn=function(e){return t=e.meetings,Object.keys(t).map((function(e){return{date:_()(t[e].date,"DD/MM/YYYY"),meetingId:e}})).sort((function(e,t){return e.date-t.date})).map((function(e){return e.meetingId}));var t},vn=function(e){return function(e){return Object.keys(e).reduce((function(t,n){return e[n].co_visit?t.concat(parseInt(n,10)):t}),[])}(e.partsObjectByIds)},On=function(e,t){return function(e,t){var n=t[e]||{};return Object.keys(n).reduce((function(e,t){return Boolean(n[t].not_co_visit)?e.concat(parseInt(t)):e}),[])}(e,t.meetingPartsById)},Dn=function(e){return function(e){return Object.keys(e).reduce((function(t,n){return e[n].not_co_visit?t.concat(parseInt(n,10)):t}),[])}(e.partsObjectByIds)},Tn=function(e,t,n){return function(e,t,n){return(qt(e,t,n)||{}).assigned_id||null}(e,t,n.meetingPartsById)},yn=function(e){return function(e){return e.isFetching}(e.fetchReducer)},In=function(e){return function(e,t){return t.map((function(t){return e[t]}))}(e.meetings,e.meetingsById)},Sn=function(e){return function(e){return e.isModalVisible}(e.schedule)},An=function(e){return function(e){return e.length||0}(e.meetingsById)},Pn=function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.hasOwnProperty("privs"))return console.log("Missing priv object"),[];if(!e.privs.hasOwnProperty(t))return console.log("Missing priv[partId] object",t,e.privs),[];var a=e.privs[t],r=n?"assistant":"assigned",i=n?"assistantsById":"assignedById",c=a[i]||[],o=a[r];a.school_part&&n&&(c=a.assignedById,o=a.assigned);var s=c.map((function(e){return{id:e,name:o[e]}}));return s}(e.privs||{},t,n)},Mn=n(106),jn=n(33),Nn=n(23);function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(n,!0).forEach((function(t){Object(Rt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kn=function(e,t,n){return e.replace(t,n)},wn=function(e,t,n){return t.concat(e).sort((function(e,t){return n[e].sort_order-n[t].sort_order})).indexOf(e)},Rn=function(e,t,n,a){var r=xn({id:t},n);return xt.fetchFromCake(e)(a,"PUT",r).then((function(t){t.success&&e(Et())}))},Ln=function(e,t,n){return function(a,r){var i=r(),c=hn(i),o=Tn(e,t,i);if(a(function(e,t,n){return{type:Ze.DELETE_PART,meeting_id:t,part_id:e,indexNumber:n}}(t,e,n)),a(Bn(e)),o)return xt.fetchFromCake(a)("".concat(c,"/assigned/delete/").concat(o),"POST").then((function(e){return console.log("deleted cake part",o),a(Et()),e}))}},Gn=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;e(Tt(t,n)),e(Ot()),setTimeout((function(){e(Dt())}),a)}},Yn=function(e,t){return function(n,a){var r=a(),i=r.schedule,c=r.meetings;if(""!==i.scheduleId)if(i.isPublished)Gn(n)("You cannot add a meeting to a published schedule. Please unpublish to add a meeting");else if(function(e,t){var n=_()(t,"DD/MM/YYYY").format("YYYY-MM-DD");return Object.keys(e).reduce((function(t,a){return _()(e[a].date,"DD/MM/YYYY").format("YYYY-MM-DD")===n||t}),!1)}(c,e))Gn(n)("Meeting date ".concat(e," already added!"),"danger");else{var o;n(rt(e,t)),n(Fn(e,t)),n((o=t,function(e,t){var n=t(),a=n.partsAllIds,r=n.partsObjectByIds,i=a.reduce((function(e,t){return r[t].school_part||r[t].co_visit?e:{partIds:e.partIds.concat(t),partObjects:xn({},e.partObjects,Object(Rt.a)({},t,r[t]))}}),{partIds:[],partObjects:{}});e(Object(jn.batchActions)([ot(o,i.partObjects,i.partIds),ct(o,i.partIds),Bn(o)]))}));var s=bn(a());n(st(s))}else Gn(n)("Cannot add meetings until a schedule is created or selected!")}},Un=function(e){return function(t,n){var a=n(),r=a.meetingIdMap,i=Object(A.a)(a,["meetingIdMap"]),c=hn(i),o=r[e]||e;return xt.fetchFromCake(t)("".concat(c,"/meetings/delete/").concat(o),"POST").then((function(n){return t({type:Ze.REMOVE_MEETING_ID_MAP,meetingIdLocal:e}),t(Et()),n.success,n})).catch((function(e){t(ht(e))}))}},Fn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return function(i,c){var o=c(),s=o.schedule,u=Object(A.a)(o,["schedule"]),l=s.scheduleId,d=hn(u),m={date:_()(e,"DD/MM/YYYY").format("YYYY-MM-DD"),schedule_id:l,co_visit:n,person_id:a,auxiliary_counselor_id:r};return xt.fetchFromCake(i)("".concat(d,"/meetings/add"),"POST",m).then((function(e){if(i(Et()),e.success){var n=e.meeting.id;i(At(t,n)),i(qn(t,n))}else Gn(i)(Object.values(xt.flattenObject(e.error)).join(", "),"danger");return e})).catch((function(e){i(ht(e))}))}},Bn=function(e){return function(t,n){var a=n(),r=a.meetings,i=a.meetingPartsById,c=0,o={},s=[],u=r[e].startTime,l=_()(u,"h:mmA");r[e].parts.forEach((function(t,n){0===n&&(c=0,o={meetingId:e,partId:t,fieldName:"start_time",fieldValue:l.format()},s=s.concat(o));var a=i[e][t],r=a.minutes,u=a.counsel_mins;if(0!==n){var d=l.clone();d.add(c,"m"),o={meetingId:e,partId:t,fieldName:"start_time",fieldValue:d.format()},s=s.concat(o)}c+=parseInt(r||0)+parseInt(u||0)})),t(function(e){return{type:Ze.BULK_UPDATE_MEETING_PARTS,updateObject:e}}(s))}},Vn=function(e,t,n,a){var r=a[e].meeting_id,i=[n[t]];return Wn(i,r)},Hn=function(e){return function(t){t(Object(jn.batchActions)([lt(e),Pt(e),Un(e),ut(e)]))}},zn=function(e){return function(t,n){t(at());var a=n(),r=a.router,i=Object(A.a)(a,["router"]),c=hn(i),o=r.location.pathname;return e?(t(Object(Nn.d)(o+"?id=".concat(e))),t({type:Ze.UPDATE_STOP}),xt.fetchFromCake(t)("".concat(c,"/assigned/loadSchedule/").concat(e)).then((function(n){var a=n.schedule,r=a.start_date,i=a.end_date,c=a.published,o=[vt({start_date:r,end_date:i,scheduleId:e,isPublished:c}),ft(r)],s={},u=n.meetings.map((function(e,t){var n,a=_()(e.date).format("D/M/YYYY"),r=e.id,i=e.assigned,c=e.auxiliary_counselor_id,u=e.person_id,l=e.co_visit,d=null;if(i.length>0&&(d=_.a.utc(i[0].start_time).format("h:mm A")),o=o.concat(rt(a,r,u,c,l,d)),i.length>0&&(s=function(e,t){var n,a={};return n=e.map((function(e){var t=JSON.parse(JSON.stringify(e)),n=xn({},t.part),r=(n.partname,n.minutes,Object(A.a)(n,["partname","minutes"]));t.assigned_id=t.id,delete t.part,delete r.section;var i=null,c=t.part_title.match(/\d+/);null!==c&&(i=c[0]);var o=xn({},t,{},r,{partname:t.part_title,minutes:t.minutes,songNumber:i});return a[e.part_id]=o,e.part_id})),{assignedObjectById:Object(Rt.a)({},t,a),assignedArrayById:n}}(i,r),o=(o=o.concat((n=xn({},s.assignedObjectById),{type:Ze.POPULATE_MEETING_PARTS_FROM_CAKE,data:n}))).concat(ct(r,Object(M.a)(s.assignedArrayById)))),null!==e.meeting_note){var m=e.meeting_note,p=m.heading,f=m.note,g=m.id;o=o.concat(function(e,t,n,a){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return{type:Ze.ADD_MEETING_NOTE_FROM_CAKE,meetingId:e,heading:n,note:a,active:r,meetingNoteId:t}}(r,g,p,f))}return s={},r}));o=o.concat(function(e){return{type:Ze.LOAD_MEETINGS_BY_ID,meetingsArray:e}}(u));var l=u.map((function(e){return Bn(e)}));o=(o=(o=(o=o.concat(l)).concat({type:Ze.LOAD_SCHEDULE,data:n})).concat(Et())).concat({type:Ze.UPDATE_ALLOW}),t(Object(jn.batchActions)(o))})).catch((function(e){console.log("fetchFail",e),t(ht(e))}))):(t(yt("")),void t(Object(Nn.d)(o)))}},Jn=function(){return function(e,t){var n=hn(t());return xt.fetchFromCake(e)("".concat(n,"/schedules/list")).then((function(t){e(Et()),e({type:Ze.LOAD_SCHEDULES,data:t.schedules})})).catch((function(t){e(ht(t))}))}},Kn=function(e){var t=e.match(/\d{2}:\d{2}:\d{2}/)[0],n=_()(t,"HH:mm:ss");return n.isValid()?n.format("h:mm A"):null},Wn=function(e,t){var n=JSON.parse(JSON.stringify(e));return Object.keys(n).map((function(e){var a=n[e],r=a.id,i=(a.active,a.assigned_id),c=Object(A.a)(a,["id","active","assigned_id"]);return xn({},c,{},i?{id:i}:null,{meeting_id:t,part_id:r,start_time:Kn(c.start_time),part_title:c.partname})}))},qn=function(e,t){return function(n,a){var r=a(),i=r.meetingPartsById,c=r.meetings,o=Object(A.a)(r,["meetingPartsById","meetings"]),s=hn(o),u=function(e,t,n){var a=t[e].parts,r=n[e],i={};return a.forEach((function(e){i[e]=xn({},r[e])})),i}(e,c,i),l=Wn(u,t);return xt.fetchFromCake(n)("".concat(s,"/assigned/addAssignedParts"),"POST",l).then((function(t){n(Et());var a=t.result.map((function(e){return{assigned_id:e.id,part_id:e.part_id}}));return n(function(e,t){return{type:Ze.ADD_ASSIGNED_ID_TO_PARTS,meetingId:e,response:t}}(e,a)),t})).catch((function(e){console.log(e)}))}},Xn=function(e){return function(t,n){var a=n(),r=a.meetingIdMap,i=Object(A.a)(a,["meetingIdMap"]),c=hn(i);return xt.fetchFromCake(t)("".concat(c,"/assigned/addAssignedParts"),"POST",e).then((function(n){if(t(Et()),console.log(e,n),n.success){var a=function(e,t){var n=Object.keys(t).filter((function(n){return t[n]===e}));return 0===n.length?e:n}(e[0].meeting_id,r),i=n.result[0].id,c=e[0].part_id;t(function(e,t,n){return{type:Ze.UPDATE_ASSIGNED_ID,meetingId:e,partId:t,assignedId:n}}(a,c,i))}return n})).catch((function(e){console.log(e)}))}};function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(n,!0).forEach((function(t){Object(Rt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $n=function(){return function(e,t){var n=t(),a=n.schedule,r=n.meetings,i=n.meetingPartsById,c=n.meetingNote,o=n.meetingIdMap,s=Object(A.a)(n,["schedule","meetings","meetingPartsById","meetingNote","meetingIdMap"]),u=hn(s),l=function(e){var t=e.start_date,n=e.end_date;return{id:e.scheduleId,start_date:_()(t).format("YYYY-MM-DD"),end_date:_()(n).format("YYYY-MM-DD")}}(a);e(ea(l,"".concat(u,"/schedules/edit/").concat(l.id)));var d,m,p=(d=r,m=a.scheduleId,Object.keys(d).map((function(e){var t=d[e],n=t.date,a=t.meeting_id,r=t.coVisit,i=t.person_id,c=t.auxiliary_counselor_id;return{id:a,date:_()(n,"D/M/YYYY").format("YYYY-MM-DD"),co_visit:r,person_id:i,schedule_id:m,auxiliary_counselor_id:c}})));if(0!==p.length){e(ea(p,"".concat(u,"/meetings/saveMeetings")));var f=function(e,t){return Object.keys(e).map((function(n){return e[n].parts.map((function(e){return t[n][e]}))})).reduce((function(e,t,n,a){return e.concat(t)})).map((function(e){var t=e.id,n=(e.active,e.assigned_id),a=Object(A.a)(e,["id","active","assigned_id"]);return Qn({},a,{},n?{id:n}:null,{part_id:t,start_time:Kn(a.start_time),part_title:a.partname})}))}(r,i);e(ea(f,"".concat(u,"/assigned/editAssignedParts"))),na(c,o).forEach((function(t){e(ta(t,"".concat(u).concat(t.url)))}))}else console.log("no meetings so dont continue")}},ea=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return function(a,r){return xt.fetchFromCake(a)(t,n,e).then((function(e){a(Et())})).catch((function(e){return console.log(e)}))}},ta=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return function(a,r){return xt.fetchFromCake(a)(t,n,e).then((function(t){a(Et()),"add"===e.action&&a(_t(e.meeting_id,t.data.id))}))}},na=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.keys(e).reduce((function(a,r,i,c){var o=e[r],s=o.meeting_note_id,u=o.meeting_id,l=o.heading,d=o.note,m=o.active,p=l||"",f=d||"",g="",E={},h="",_=t.hasOwnProperty(u)?t[u]:u;return s?(E={id:s},g="/MeetingNotes/"+(h="edit")+"/"+s):g="/MeetingNotes/"+(h="add"),n&&s&&(g="/MeetingNotes/"+(h="delete")+"/"+s),""!==p&&""!==f?a.concat(Qn({},E,{meeting_id:_,heading:p,note:f,active:m,action:h,url:g})):a}),[])},aa={addMeetings:Yn},ra=Object(p.c)((function(e){var t=function(e){return function(e){return{startDate:e.start_date,endDate:e.end_date}}(e.schedule)}(e).startDate;return{scheduleStartDate:xt.stringDateToDate(t),isPublished:e.schedule.isPublished}}),aa)((function(e){var t=e.addMeetings,n=e.scheduleStartDate,a=e.meetingCount,r=e.isPublished,c=a>1||0===a?"s":"",o=i.a.createElement(g,null,"".concat(a," meeting").concat(c)),s={disabled:r,style:{borderTopRightRadius:"0.2rem",borderBottomRightRadius:"0.2rem"},className:"btn btn-primary"};return i.a.createElement("div",{className:"input-group input-group-sm "},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("span",{className:"input-group-text"},i.a.createElement(y.a,{icon:I.a})," "),i.a.createElement("span",{className:"input-group-text",id:"basic-addon2"},o)),i.a.createElement("div",{className:"input-group-append"},i.a.createElement(qe,{scheduleStartDate:n,extraInputProps:s,onSubmit:function(e){e.forEach((function(e){t(xt.formatDate(e,"DD/MM/YYYY"),xt.getUUID())}))}})))})),ia=n(5),ca={meetingDateSelected:ft,clickMeetingAddButton:Yn},oa=Object(p.c)((function(e){var t=e.meetingsById.length||0,n=e.apiRoot,a=e.schedule,r=e.fetchReducer,i=e.addMeeting,c=a.start_date,o=a.end_date,s=r.isFetching,u=i.meetingDate;return{scheduleId:a.scheduleId,apiRoot:n.baseUrl,isFetching:s,meetingDate:u,meetingCount:t,startDate:_()(c),endDate:_()(o),isPublished:e.schedule.isPublished}}),ca)((function(e){var t=e.meetingCount,n=e.apiRoot,a=e.scheduleId,r=e.isFetching?i.a.createElement(S,null):null,c=null;return a&&(c=i.a.createElement(g,null,i.a.createElement(ia.e,null,r),i.a.createElement(ia.e,{lg:{size:3}},i.a.createElement(ra,{meetingCount:t})),i.a.createElement(ia.e,null,i.a.createElement(P,{display:a,icon:I.f,href:n+"schedules/pdf-view/"+a,title:"View PDF",target:"_blank"}),i.a.createElement(P,{display:a,icon:I.q,href:n+"people/view-who/"+a,title:"Assignments",target:"_blank"})))),c})),sa=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("h5",{style:{cursor:"pointer"},className:D.a.MeetingTitle,onClick:this.props.onClick},i.a.createElement(v.a,{style:{marginBottom:"6px"}})," ",this.props.value)}}]),t}(i.a.Component),ua={handleChange:function(e,t){return function(n,a){var r=a(),i=r.meetings,c=r.schedule,o=Object(A.a)(r,["meetings","schedule"]),s=hn(o),u=i[e].meeting_id;if(Object.keys(i).map((function(e){return _()(i[e].date,"D/M/YYYY").format("DD/MM/YYYY")})).includes(t))Gn(n)("Meeting date already exists please choose another");else{n(function(e,t){return{type:Ze.SET_MEETING_DATE_BY_MEETING_ID,meetingId:e,meetingDate:t}}(e,t));var l={schedule_id:c.scheduleId,date:_()(t,"DD/MM/YYYY").format("YYYY-MM-DD")},d="".concat(s,"/meetings/edit/").concat(u);Rn(n,u,l,d);var m=bn(a());n(st(m))}}}},la=Object(p.c)((function(e,t){var n=t.meetingId;return{meeting:e.meetings[n],isPublished:e.schedule.isPublished}}),ua)((function(e){var t=e.meetingDate,n=e.handleChange,a=e.meetingId,r=(e.deleteMeeting,e.isPublished),c=_()(t,"DD/MM/YYYY");return i.a.createElement(ia.m,null,i.a.createElement(ia.e,null,i.a.createElement(T.a,{customInput:i.a.createElement(sa,null),selected:c,disabled:r,dateFormat:"ddd Do MMMM YYYY",onChange:function(e){n(a,e.format("DD/MM/YYYY"))}})),i.a.createElement(oa,null))})),da=n(78),ma=n.n(da),pa=n(79),fa=n.n(pa),ga=n(21),Ea=n.n(ga),ha=n(37),_a=n.n(ha),ba=n(29),va=n.n(ba),Oa=function(e){var t=e.partArrayObject,n=e.hideAddPart,a=e.updateForm,r=e.addParts,c=e.insertPart,o=e.meetingId,s=null;return t&&(s=t.map((function(e,t){return i.a.createElement("option",{key:e.id,value:e.id},"".concat(e.partname," (").concat(e.minutes," ").concat(e.min_suffix.trim(),")"))}))),i.a.createElement("form",{className:"form-inline"},i.a.createElement("div",{className:"form-group"},i.a.createElement("select",{id:"addPart",value:r.fieldValue,className:"form-control form-control-sm",onChange:function(e){a(e.target.id,e.target.value,e.target.options[e.target.selectedIndex].text)}},s),i.a.createElement("button",{type:"button",className:"ml-2 btn btn-primary btn-sm mt-1",onClick:function(){console.log("insertPart"),c(o)}},i.a.createElement(y.a,{icon:I.h})," Add"),i.a.createElement("button",{type:"button",className:"ml-2 btn btn-danger btn-sm mt-1",onClick:function(){n()}},i.a.createElement(y.a,{icon:I.n})," Close")))},Da={insertPart:function(e){return function(t,n){var a=n(),r=a.meetings,i=a.partsObjectByIds,c=a.addParts,o=c.fieldValue,s=r[e].parts,u=wn(o,s,i);t(Object(jn.batchActions)([dt(u,e,o,i),Bn(c.insertInMeetingId)])),t(Xn(Vn(e,o,i,r)))}},toggleCoVisit:function(e,t){return function(n,a){var r=a(),i=r.meetings,c=r.partsObjectByIds,o=r.meetingPartsById,s=hn(r),u=vn(r),l=On(e,r),d=Dn(r),m=i[e],p=m.parts.slice(),f=[nt(e,t)];xt.isEmptyObject(o)?console.log("no meetings so returning from addCoPartThunk"):(t?p.some((function(e){return u.includes(e)}))||(u.forEach((function(t){if(!o[e][t]){var n=Object.assign({},c[t]);f=f.concat(tt(e,t,n))}f=(f=f.concat(et(wn(t,p,c),e,t))).concat(Xn(Vn(e,t,c,i)))})),l.forEach((function(t){f=(f=f.concat($e(e,t))).concat(Ln(e,t,0))}))):(u.forEach((function(t){f=(f=f.concat($e(e,t))).concat(Ln(e,t,0))})),d.forEach((function(t){if(!o[e][t]){var n=Object.assign({},c[t]);f=(f=f.concat(tt(e,t,n))).concat(Xn(Vn(e,t,c,i)))}var a=wn(t,p,c);f=f.concat(et(a,e,t))}))),n(Object(jn.batchActions)(f)),n(Bn(e)),Rn(n,m.meeting_id,{co_visit:t},"".concat(s,"/meetings/edit/").concat(m.meeting_id)))}},addPart:function(e){return function(t,n){var a=_n(e,n()).shift();t(it("",a.id,a.partname)),t(function(e,t){return{type:Ze.ADD_PART_PICKER,meetingId:e,indexNumber:t}}(e))}},hideAddPart:Qe,updateForm:it,setMeetingValueOnChange:function(e,t,n){return function(a,r){var i=r(),c=i.meetings,o=Object(A.a)(i,["meetings"]),s=hn(o);a(St(e,t,n));var u=c[e].meeting_id,l=Object(Rt.a)({},t,n),d="".concat(s,"/meetings/edit/").concat(u);Rn(a,u,l,d)}},setChairmanChange:function(e,t,n){return function(a,r){var i=r(),c=i.meetingPartsById,o=i.meetings,s=Object(A.a)(i,["meetingPartsById","meetings"]),u=hn(s),l=c[e],d=Object.keys(l).reduce((function(a,r){return!0===l[r].chairman_part?a.concat(mt({meetingId:e,partId:r,fieldName:t,fieldValue:n})):a}),[]),m=[St(e,t,n)].concat(d);a(Object(jn.batchActions)(m));var p=o[e].meeting_id;Rn(a,p,{person_id:n},"".concat(u,"/meetings/edit/").concat(p))}},toggleSaveModal:It,saveButtonPress:$n,deleteMeeting:Hn},Ta=Object(p.c)((function(e,t){return{meeting:Ut(t.meetingId,e),isPublished:e.schedule.isPublished,addParts:e.addParts,diplayPartPicker:function(t){return function(e,t){return function(e,t,n){var a=t.showPicker,r=t.insertInMeetingId,i=n.isPublished;return a&&r===e&&!i}(e,t.addParts,t.schedule)}(t,e)},chairmen:e.privs.meetingChairmen||[],auxCounselors:e.privs.auxCounselors||[],partArrayObject:function(t){return _n(t,e)},checkCoVisit:function(t){return function(e,t){var n=t.meetings,a=!1;return n.hasOwnProperty(e)&&(a=n[e].coVisit),a}(t,e)},showPartPicker:function(t){return function(e,t){return t.addParts.showPicker}(0,e)}}}),Da)((function(e){var t=e.addPart,n=e.addParts,a=e.auxCounselors,r=e.chairmen,c=e.checkCoVisit,o=e.hideAddPart,s=e.insertPart,u=e.isPublished,l=e.meeting,d=e.meetingId,m=e.partArrayObject,p=e.saveButtonPress,g=e.setChairmanChange,E=e.setMeetingValueOnChange,h=e.diplayPartPicker,_=e.toggleCoVisit,b=e.updateForm,v=e.deleteMeeting,O="checkBox-".concat(d),D=l.auxiliary_counselor_id||"",T=l.person_id||"",S=[{id:0,name:"(Please select)"}],A=S.concat(a),P=S.concat(r),M=c(d),j=h(d),N=m(d),C=null,x=null;return j||u||(C=i.a.createElement(va.a,{size:"sm",color:"primary",style:{marginRight:"12px",cursor:"pointer"},onClick:function(e){t(d)}},i.a.createElement(y.a,{icon:"plus-circle"})," Add part")),j&&(x=i.a.createElement(Oa,{key:"AddPartPickert"+d,hideAddPart:o,meetingId:d,updateForm:b,partArrayObject:N,addParts:n,insertPart:s})),i.a.createElement(f,null,i.a.createElement(ia.m,{form:!0},i.a.createElement(Ea.a,{lg:2},i.a.createElement(_a.a,{check:!0,inline:!0},i.a.createElement(ma.a,{disabled:u,key:d,checked:M,id:O,bsSize:"sm",onChange:function(e){return _(d,e.target.checked)},type:"checkbox"}),i.a.createElement(fa.a,{size:"sm",check:!0,htmlFor:O,title:"Circuit Overseers Visit"},"C.O. Visit"))),i.a.createElement(Ea.a,{lg:4},i.a.createElement("div",{className:"form-inline"},i.a.createElement(_a.a,{inline:!0},i.a.createElement(fa.a,{size:"sm",for:"auxiliary_counselor_id-".concat(d)},"Auxiliary Counselor\xa0\xa0"),i.a.createElement(ma.a,{disabled:u,id:"auxiliary_counselor_id-".concat(d),bsSize:"sm",type:"select",value:D,onChange:function(e){E(d,"auxiliary_counselor_id",e.target.value)}},A.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)})))))),i.a.createElement(Ea.a,{lg:4,xs:"12"},i.a.createElement("div",{className:"form-inline"},i.a.createElement(_a.a,null,i.a.createElement(fa.a,{size:"sm",for:"chairman_id"},"Chairman\xa0\xa0"),i.a.createElement(ma.a,{disabled:u,value:T,id:"person_id-".concat(d),bsSize:"sm",onChange:function(e){g(d,"person_id",e.target.value)},type:"select"},P.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)})))))),i.a.createElement(Ea.a,null,i.a.createElement("span",{className:"float-right"},i.a.createElement(va.a,{disabled:u,className:"align-bottom",size:"sm",onClick:p},i.a.createElement(y.a,{icon:I.k})," Save"),i.a.createElement(va.a,{key:d,className:"ml-4",size:"sm",disabled:u,color:"danger",onClick:function(e){!u&&v(d)},title:"Delete meeting"},i.a.createElement(y.a,{icon:I.o})," Delete")))),i.a.createElement(ia.m,null,i.a.createElement(Ea.a,{className:"mb-2 mt-2"},C,x)))})),ya=function(){var e={fontSize:"small",fontWeight:"bold"};return i.a.createElement(ia.m,{form:!0,className:"d-none d-lg-flex"},i.a.createElement(ia.e,{style:e},"Start Time"),i.a.createElement(ia.e,{lg:"3",style:e},"Part Name"),i.a.createElement(ia.e,{style:e},"Minutes"),i.a.createElement(ia.e,{style:e},"Min Suffix"),i.a.createElement(ia.e,{style:e},"Counsel Mins"),i.a.createElement(ia.e,{lg:"2",style:e},"Aux School"),i.a.createElement(ia.e,{lg:"2",style:e},"Main Hall"),i.a.createElement(ia.e,{style:e},"Actions"))},Ia=n(154),Sa=n.n(Ia),Aa=n(155),Pa=n.n(Aa),Ma=function(e){var t=e.meetingId,n=e.meetingDate,a=e.children,r=e.deleteMeeting;return i.a.createElement(Sa.a,{className:"bg-light mb-3"},i.a.createElement(Pa.a,null,i.a.createElement(la,{meetingDate:n,meetingId:t,deleteMeeting:r}),i.a.createElement(Ta,{meetingId:t,deleteMeeting:r}),i.a.createElement(ya,null),a))},ja=n(53),Na=n.n(ja),Ca=n(156),xa=function(e){var t=e.style,n=e.clicked,a=e.icon,r=e.meetingId,c=e.partId,o=e.indexNumber,s=e.isPublished,u=e.title;return i.a.createElement("div",{style:t,title:u,onClick:function(){return!s&&n(r,c,o)}},i.a.createElement(y.a,{icon:a}))},ka=n(47);function wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wa(n,!0).forEach((function(t){Object(Rt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wa(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ka.b.add(Ca.a,I.o,I.p,I.h,I.g);var La=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.getSelectList,n=e.resetPartValues,a=e.assistant_prefix,r=e.aux_assistant_id,c=e.aux_person_id,o=e.assistant,s=e.assistant_id,u=e.no_assign,l=e.counsel_mins,d=e.deletePart,m=e.person_id,p=e.getElements,f=e.has_auxiliary,g=e.id,E=e.updateTime,h=e.indexNumber,b=e.meetingId,v=e.meetingPartsById,O=e.min_suffix,D=e.minutes,T=e.partname,S=e.startTime,A=e.meetingStartTime,P=e.replace_token,M=e.school_part,j=e.updateMeetingPart,N=e.isPublished,C=this.props.songNumber||"",x=N?"not-allowed":"pointer",k=null,w=null,R=null,L=null;u||(k=t(g,!1)),o&&(w=t(g,!0)),f&&(R=t(g,!1)),f&&o&&(L=t(g,!1));var G={fontSize:"14px",marginTop:"5px",display:"inline-flex "},Y=["form-control","form-control-sm"],U=u&&o?Y:Y.concat("mt-1"),F=f&&o?Y.concat("mt-1"):Y;if(xt.isEmptyObject(v))return null;var B=_()(S).format("h:mm A");return i.a.createElement(Na.a,{form:!0,className:"mt-1"},i.a.createElement(Ea.a,{lg:"1",xs:"4",className:"mb-1"},0===h?i.a.createElement("input",{className:Y.join(" "),type:"text",name:"meetingStartTime",disabled:N,onChange:function(e){E(b,e.target.value)},value:A}):i.a.createElement("div",{style:Ra({},G,{marginLeft:"8px"})},B)),i.a.createElement(Ea.a,{lg:"3",sm:"6",xs:"12",md:"4",className:"mb-1"},P?i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{disabled:N,style:{width:"8em"},className:Y.join(" "),type:"text",readOnly:!0,name:"displayPartname",value:T}),i.a.createElement("input",{type:"text",className:Y.join(" "),maxLength:"3",disabled:N,style:{textAlign:"center"},value:C,onChange:function(e){j(b,g,"songNumber",e.target.value,Boolean(P))}}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("span",{className:"input-group-text input-group-text-sm"},i.a.createElement(y.a,{icon:"music"})))):i.a.createElement("input",{className:Y.join(" "),type:"text",disabled:N,name:"partname",onChange:function(e){j(b,g,"partname",e.target.value,Boolean(P))},value:T})),i.a.createElement(Ea.a,{xs:"3",lg:"1"},i.a.createElement("input",{className:Y.join(" "),type:"text",disabled:N,onChange:function(e){j(b,g,"minutes",e.target.value)},field_name:"minutes",value:D})),i.a.createElement(Ea.a,{lg:"1",style:Ra({},G)},O),i.a.createElement(Ea.a,{xs:"3",lg:"1",className:"mb-1"},M&&i.a.createElement("input",{disabled:N,onChange:function(e){j(b,g,"counsel_mins",e.target.value)},className:Y.join(" "),type:"text",readOnly:!M,field_name:"counsel_mins",value:l})),i.a.createElement(Ea.a,{lg:"2",className:"mb-1"},f&&i.a.createElement("select",{disabled:N,className:Y.join(" "),onClick:p,is_assistant:"false",name:"aux_person_id",value:c||"",onChange:function(e){j(b,g,e.target.name,e.target.value)}},i.a.createElement("option",{value:0},"(please select)"),R&&R.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)}))),f&&o&&i.a.createElement("select",{disabled:N,className:F.join(" "),onChange:function(e){j(b,g,e.target.name,e.target.value)},name:"aux_assistant_id",value:r||""},i.a.createElement("option",{value:0},"(please select)"),L&&L.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)})))),i.a.createElement(Ea.a,{lg:"2"},!u&&i.a.createElement("select",{disabled:N,className:Y.join(" "),name:"person_id",onChange:function(e){j(b,g,e.target.name,e.target.value)},value:m||""},i.a.createElement("option",{value:1},"(please select)"),k&&k.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)}))),o&&i.a.createElement("select",{disabled:N,className:U.join(" "),onClick:p,name:"assistant_id",type:"text",value:s||"",onChange:function(e){j(b,g,e.target.name,e.target.value)},is_assistant:"true",placeholder:a&&a},i.a.createElement("option",{key:0,value:""},"(please select)"),w&&w.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)})))),i.a.createElement(Ea.a,{lg:"1",style:Ra({},G)},i.a.createElement(xa,{style:{marginRight:"12px",cursor:x},clicked:d,isPublished:N,icon:I.o,title:"Delete this part",partId:g,meetingId:b,indexNumber:h}),i.a.createElement(xa,{style:{marginRight:"12px",cursor:x},clicked:n,isPublished:N,icon:I.p,title:"Reset fields to default values",partId:g,meetingId:b,indexNumber:h})))}}]),t}(r.Component),Ga={resetPartValues:function(e,t,n){return function(a,r){var i=r().partsObjectByIds;a(function(e,t,n,a){return{type:Ze.RESET_PART_VALUES,meetingId:e,partId:t,indexNumber:n,partObject:a}}(e,t,n,i[t])),a(Bn(e))}},updateMeetingPart:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(i,c){var o=c().partsObjectByIds;if(r){var s=o[t],u=s.partname,l=s.replace_token,d=kn(u,l,a);i(Object(jn.batchActions)([mt({meetingId:e,partId:t,fieldName:n,fieldValue:a}),mt({meetingId:e,partId:t,fieldName:"partname",fieldValue:d})]))}else i(mt({meetingId:e,partId:t,fieldName:n,fieldValue:a}));"minutes"!==n&&"counsel_mins"!==n||i(Bn(e))}}},Ya=Object(p.c)((function(e){return{getSelectList:function(t,n){return Pn(e,t,n)},isPublished:e.schedule.isPublished}}),Ga)(La),Ua=n(157),Fa=n(158),Ba=n(159),Va=function(e){var t=["form-row"];return e.extraClasses&&t.push(e.extraClasses),i.a.createElement("div",{className:t.join(" ")},i.a.createElement("div",{className:"col"},e.children))},Ha=function(e){var t=e.handleAddRemoveMeetingNote,n=e.meetingId,a=e.active,r=e.isPublished,c=a?"Remove ":"Add a",o=a?"danger":"primary",s=a?i.a.createElement(y.a,{icon:Fa.faMinusCircle}):i.a.createElement(y.a,{icon:Ua.faStickyNote}),u="meetingNoteCheckbox-".concat(n);return i.a.createElement(ia.a,{disabled:r,color:o,size:"sm",onClick:function(e){t(n,!a)},id:u},s," ",c," meeting note")},za=function(e){return"undefined"!==(e&&e.active)&&!0===e.active},Ja=function(e,t){return e.hasOwnProperty(t)?e[t]:""},Ka={handleAddRemoveMeetingNote:function(e,t){return function(n,a){var r=a(),i=r.meetingNote,c=r.meetingIdMap,o=Object(A.a)(r,["meetingNote","meetingIdMap"]),s=hn(o),u=[i[e]]||!1;t?n(bt(e,t)):u[0].meeting_note_id&&na(i,c,!0).forEach((function(e){console.log("delete meeting note",e),n(ta(e,"".concat(s).concat(e.url)))})),n(bt(e,t))}},cancelMeetingNote:function(e){return{type:Ze.CANCEL_MEETING_NOTE,meetingId:e}},updateMeetingNote:function(e,t,n){return{type:Ze.UPDATE_MEETING_NOTE,meetingId:e,fieldName:t,fieldValue:n}},saveScheduleThunk:$n},Wa=Object(p.c)((function(e,t){var n=e.meetingNote[t.meetingId]||{},a=e.schedule.isPublished;return{active:za(n),meetingNote:n,heading:Ja(n,"heading"),note:Ja(n,"note"),meetingNotes:e.meetingNote,isPublished:a,disabled:a}}),Ka)((function(e){var t=e.meetingId,n=e.updateMeetingNote,a=e.heading,r=e.note,c=e.active,o=void 0!==c&&c,s=e.handleAddRemoveMeetingNote,u=e.saveScheduleThunk,l=e.isPublished,d=i.a.createElement(Ha,{isPublished:l,active:o,meetingId:t,handleAddRemoveMeetingNote:s});return o?i.a.createElement(ia.b,{className:"mt-2"},i.a.createElement(ia.d,{tag:"h5"},"Meeting Note"),i.a.createElement(ia.c,null,i.a.createElement(ia.f,null,i.a.createElement(ia.h,{for:"heading-".concat(t)},"Heading"),i.a.createElement(ia.g,{disabled:l,name:"heading",id:"heading-".concat(t),bsSize:"sm",onChange:function(e){return n(t,e.target.name,e.target.value)},type:"text",value:a})),i.a.createElement(ia.f,null,i.a.createElement(ia.h,{for:"note-".concat(t)},"Note"),i.a.createElement(ia.g,{disabled:l,bsSize:"sm",value:r,id:"note-".concat(t),name:"note",onChange:function(e){return n(t,e.target.name,e.target.value)},rows:"4",type:"textarea"})),i.a.createElement(Va,null,d,i.a.createElement(ia.a,{disabled:l,className:"align-bottom ml-3",size:"sm",onClick:u},i.a.createElement(y.a,{icon:Ba.faSave})," Save")))):i.a.createElement(Va,{extraClasses:"mt-3"},d)})),qa=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getSchedulesList)()}},{key:"render",value:function(){var e=this.props,t=e.selectList,n=e.getSchedule,a=e.scheduleId;return i.a.createElement(ia.f,{row:!0},i.a.createElement(ia.h,{className:"font-weight-bold",size:"sm",sm:3},"Schedule"),i.a.createElement(ia.e,{sm:9},i.a.createElement(ia.g,{bsSize:"sm",onChange:function(e){return n(e.target.value)},type:"select",value:a},i.a.createElement("option",{value:""},"(Select a schedule)"),t&&t.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.month_year)})))))}}]),t}(r.Component),Xa={getSchedule:zn,getSchedulesList:Jn},Za=Object(p.c)((function(e){return{scheduleId:e.schedule.scheduleId||"",selectList:pn(e)}}),Xa)(qa);n(295),n(296);function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var $a={updateScheduleStartDate:function(e){return function(t,n){var a=n().schedule.scheduleId,r=e.format();if(t({type:Ze.SET_SCHEDULE_START_DATE,startDate:r}),!a){var i=_()(e).endOf("month");t(pt(i.format()))}t(ft(r))}},updateScheduleEndDate:pt,addClick:function(){return function(e,t){e(Dt());var n=t(),a=n.schedules,r=n.schedule,i=Object(A.a)(n,["schedules","schedule"]),c=hn(i);if(!function(e,t){var n=_()(e.start_date).valueOf(),a=_()(e.end_date).valueOf();return t.some((function(e,t,r){var i=_()(e.start_date).valueOf(),c=_()(e.end_date).valueOf();return n<=c&&i<=a}))}(r,a)){var o=_()(r.start_date).format("MMMM"),s=_()(r.start_date).format("DD/MM/YYYY"),u=_()(r.end_date).format("DD/MM/YYYY"),l={comment:"Schedule for month of ".concat(o),start_date:s,end_date:u,month:o};return e(at()),xt.fetchFromCake(e)("".concat(c,"/schedules/add"),"POST",l).then((function(t){e(Et()),t.success&&(e(Jn()),e(yt(t.schedule.id)))})).catch((function(t){e(ht(t))}))}Gn(e)("Dates cannot overlap with other schedules","danger")}},cancelClick:function(){return{type:Ze.TOGGLE_SCHEDULE_MODAL}},saveClick:$n},er=Object(p.c)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(n,!0).forEach((function(t){Object(Rt.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.schedule,{isPublished:e.schedule.isPublished})}),$a)((function(e){var t=e.start_date,n=e.end_date,a=e.updateScheduleEndDate,r=e.updateScheduleStartDate,c=e.addClick,o=e.scheduleId,s=e.saveClick,u=e.isPublished,l=o?{icon:I.k,buttonText:"Save Schedule",clickFunction:s}:{icon:I.h,buttonText:"Create Schedule",clickFunction:c},d=_()(t),m=_()(n);return i.a.createElement(f,null,i.a.createElement("div",{className:"input-group input-group-sm mb-3"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("span",{className:"input-group-text"},i.a.createElement(y.a,{icon:I.a})," ")),i.a.createElement(T.a,{className:"form-control form-control-sm tgn-input meetingDatePicker",dateFormat:"l",selected:d,selectsStart:!0,autocomplete:"false",startDate:d,endDate:m,onChange:function(e){r(e)}}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("span",{className:"input-group-text",style:{borderLeft:0,borderRight:0}},"to")),i.a.createElement(T.a,{className:"form-control form-control-sm tgn-input meetingDatePicker",dateFormat:"l",selected:m,selectsEnd:!0,autocomplete:"false",startDate:d,endDate:m,onChange:function(e){a(e)}}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement(va.a,{color:"primary",onClick:l.clickFunction,size:"sm",disabled:u},i.a.createElement(y.a,{icon:l.icon})," ",l.buttonText))))})),tr=function(e){var t=e.showModal,n=e.click,a=e.heading;return i.a.createElement("div",null,i.a.createElement(ia.i,{isOpen:t,className:"testClass"},i.a.createElement(ia.l,{toggle:function(){return n()}},a),i.a.createElement(ia.j,null,e.children),i.a.createElement(ia.k,null,e.buttons)))},nr=function(e){var t=i.a.createElement(f,null,i.a.createElement(va.a,{color:"primary",onClick:e.ok},"OK"),i.a.createElement(va.a,{color:"danger",onClick:e.cancel},"Cancel"));return i.a.createElement(tr,{heading:e.heading,click:e.cancel,buttons:t,showModal:e.show},i.a.createElement("p",null,"Yeah boi!"))},ar={schedulePublishedCheck:function(e){return function(t,n){var a=n(),r=hn(a),i=a.schedule.scheduleId;t(Qe()),t(vt({isPublished:e})),t(ea({id:i,published:e},"".concat(r,"/schedules/edit/").concat(i),"POST")),e&&t($n())}}},rr=Object(p.c)((function(e){return{apiRoot:hn(e),isPublished:e.schedule.isPublished,scheduleId:e.schedule.scheduleId}}),ar)((function(e){var t=e.isPublished,n=e.scheduleId,a=e.schedulePublishedCheck;return n?i.a.createElement(ia.f,{check:!0,inline:!0},i.a.createElement(ia.g,{checked:t,id:"isSchedulePublishedCB",bsSize:"sm",onChange:function(e){a(e.target.checked)},style:{cursor:"pointer"},type:"checkbox"}),i.a.createElement(ia.h,{size:"sm",check:!0,htmlFor:"isSchedulePublishedCB",title:"Protect from editing or mark as published",style:{cursor:"pointer"}},"Schedule Published")):null})),ir=n(80),cr=n.n(ir),or={toggleScheduleSaveModal:It,saveScheduleThunk:$n,deleteScheduleThunk:function(){return function(e,t){e(Dt());var n=t(),a=n.schedule,r=Object(A.a)(n,["schedule"]),i=hn(r);if(!a||""===a.scheduleId)return console.log("no schedule to delete"),void Gn(e)("Please select a schedule to delete");var c=a.scheduleId;return xt.fetchFromCake(e)("".concat(i,"/schedules/delete/").concat(c),"POST").then((function(t){e(Et()),t.success&&(e(Jn()),e(at()),e(yt("")))})).catch((function(t){e(ht(t))}))}}},sr=Object(p.c)((function(e){return{isModalVisible:Sn(e),isPublished:e.schedule.isPublished}}),or)((function(e){var t=e.toggleScheduleSaveModal,n=e.saveScheduleThunk,a=e.deleteScheduleThunk,r=e.isModalVisible,c=e.isPublished;return i.a.createElement(Na.a,null,i.a.createElement(Ea.a,{lg:"3"},i.a.createElement(_a.a,{className:cr.a.SpaceBetween},i.a.createElement(Za,null))),i.a.createElement(Ea.a,{lg:"2"},i.a.createElement(_a.a,{className:cr.a.SpaceBetween},i.a.createElement(va.a,{disabled:c,onClick:a,size:"sm"},i.a.createElement(y.a,{icon:I.o})," Delete"))),i.a.createElement(Ea.a,{lg:"7"},i.a.createElement(_a.a,{className:cr.a.SpaceBetween},i.a.createElement(er,null)),i.a.createElement(_a.a,null,i.a.createElement(rr,null)),i.a.createElement(nr,{heading:"Save Schedule",show:r,ok:n,cancel:t})))})),ur=n(322),lr=n(160),dr=n.n(lr),mr=(n(308),n(142),n(309),n(48)),pr=n(161),fr=n.n(pr);ka.b.add([I.d,I.c,I.b,I.m,I.i,I.j,I.e]);var gr=function(e){var t=function(e){var t=null;switch(e){case"primary":case"secondary":case"success":t="thumbs-up";break;case"danger":case"warning":t="exclamation-triangle";break;case"info":case"light":case"dark":default:t="exclamation-circle"}return t}(e.color);return i.a.createElement(mr.CSSTransition,{in:e.show,timeout:300,classNames:{enter:"animated",enterActive:"fadeIn",exit:"animated",exitActive:"slideOutUp"},unmountOnExit:!0},i.a.createElement(fr.a,{transition:{baseClassActive:"",timeout:0},color:e.color,fade:!1},i.a.createElement(y.a,{icon:t})," ",e.message))},Er=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getParts,n=e.getPrivs,a=e.getSchedule,r=e.search,i=dr.a.parse(r);t(),n(),"undefined"!==typeof i.id&&a(i.id)}},{key:"render",value:function(){var e=this.props,t=e.meetingCount,n=e.addPart,a=e.schedule,r=e.deleteMeeting,c=e.deletePart,o=e.updateAllStartTimes,s=e.meetingsArrayObject,u=e.updateMeetingPart,l=e.updateTime,d=e.getMeetingParts,m=e.meetingPartsById,p=e.alertMessage,f=e.scheduleId,h=a.start_date,b=_()(h).format("MMMM"),v=_()(h).year(),O=null;return f&&0===t&&(O=i.a.createElement(Na.a,{className:"mb-3"},i.a.createElement(oa,null))),i.a.createElement(g,null,i.a.createElement(E,{scheduleMonth:b,scheduleYear:v,scheduleId:f},i.a.createElement(gr,{message:p.message,color:p.color,show:p.show})),i.a.createElement(sr,null),O,i.a.createElement(mr.TransitionGroup,null,s&&s.map((function(e){var t=e.local_id,a=d(t),s=null;return a&&(s=a.map((function(a,r){var o=a.id;return i.a.createElement(mr.CSSTransition,{key:"PartAnimation"+t+"part"+o,timeout:300,classNames:"meeting"},i.a.createElement(Ya,Object.assign({startTime:a.start_time,meetingStartTime:e.startTime,updateTime:l,updateMeetingPart:u,key:"meeting"+t+"partKey"+o,deletePart:c,indexNumber:r,addPart:n,meeting:e.date,meetingPartsById:m,meetingId:t},a)))}))),i.a.createElement(mr.CSSTransition,{key:"meetingAnimation"+t,timeout:500,classNames:"fade"},i.a.createElement(Ma,{updateAllStartTimes:o,deleteMeeting:r,key:"meeting"+t,meetingDate:e.date,meetingId:t},i.a.createElement(mr.TransitionGroup,{className:"partList"},s),i.a.createElement(Wa,{meetingId:t})))}))))}}]),t}(r.Component),hr={deleteMeeting:Hn,getPrivs:function(){return function(e,t){var n=hn(t());return xt.fetchFromCake(e)("".concat(n,"/assigned/getPrivs")).then((function(t){e(Et()),e({type:Ze.LOAD_PRIVS,data:t})})).catch((function(t){e(ht(t))}))}},getParts:function(){return function(e,t){var n=hn(t());return xt.fetchFromCake(e)("".concat(n,"/parts/getParts?sort=sort_order&direction=asc&limit=100")).then((function(t){var n={parts:[new Mn.b.Entity("parts")]},a=Object(Mn.a)(t,n);e(Et()),e(function(e){var t=e.entities.parts,n=e.result.parts;return{type:Ze.ADD_PARTS_OBJECT,partEntities:t,partsByIdArray:n}}(a))})).catch((function(t){e(ht(t))}))}},updateAllStartTimes:Bn,updateTime:function(e,t){return function(n){n(function(e,t){return{type:Ze.UPDATE_START_TIME,fieldValue:t,meetingId:e}}(e,t)),n(Bn(e))}},deletePart:Ln,getSchedule:zn},_r=Object(p.c)((function(e){var t=e.alertMessage,n=e.shouldUpdate,a=e.meetingPartsById,r=e.schedule,i=e.router.location,c=i.search,o=i.pathname,s=i.hash,u=r.scheduleId;return{meetingCount:An(e),alertMessage:t,shouldUpdate:n,meetingPartsById:a,meetingsArrayObject:In(e),getMeetingParts:function(t){return function(e,t){return function(e,t,n){return(t[e]||{parts:[]}).parts.map((function(t){return n[e][t]}))}(e,t.meetings,t.meetingPartsById)}(t,e)},isFetching:yn(e),schedule:r,scheduleId:u,pathname:o,search:c,hash:s}}),hr)(Object(ur.a)(Er)),br=n(163),vr={addParts:{showPicker:!1,insertAfterPart:null,insertInMeetingId:null},meetingsById:[],meetings:{},schedule:{start_date:_()().startOf("month").format(),end_date:_()().endOf("month").format(),scheduleId:""},addMeeting:{meetingDate:_()().startOf("month").format()}},Or=n(164),Dr=n(165),Tr=n(145),yr=Object(Dr.a)(),Ir=(Object(Or.createLogger)(),[br.a,jn.batchDispatchMiddleware]);var Sr,Ar=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||kt.d,Pr=Object(kt.e)((Sr=yr,Object(kt.c)({router:Object(a.b)(Sr),addMeeting:tn,addParts:rn,alertMessage:fn,apiRoot:an,fetchReducer:Ht,loadedSchedule:wt,meetingIdMap:En,meetingNote:ln,meetingPartsById:Wt,meetings:Yt,meetingsById:en,partsAllIds:$t,partsObjectByIds:zt,privs:nn,schedule:Qt,schedules:mn,shouldUpdate:dn})),vr,Ar(kt.a.apply(void 0,[Object(Tr.a)(yr)].concat(Object(M.a)(Ir))))),Mr=(n(317),navigator.language||navigator.userLanguage);_.a.locale(Mr);var jr=document.getElementById("root"),Nr=jr.getAttribute("baseurl");window.location.hostname,Pr.dispatch({type:Ze.SET_API_URL,baseUrl:Nr}),o.a.render(i.a.createElement(p.a,{store:Pr},i.a.createElement(a.a,{history:yr},i.a.createElement(_r,null))),jr)},80:function(e,t,n){e.exports={SpaceBetween:"ScheduleRow_SpaceBetween__12uYC"}}},[[169,1,2]]]);
//# sourceMappingURL=main.d9f76b80.chunk.js.map